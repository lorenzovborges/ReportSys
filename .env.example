NODE_ENV=development
PORT=3000
API_HOST_PORT=3000
LOG_LEVEL=info

MONGODB_DB_NAME=reportsys
MONGODB_WRITE_URI=mongodb://mongo1:27017/reportsys?replicaSet=rs0
MONGODB_REPORT_READ_URI=mongodb://mongo3:27017/reportsys?replicaSet=rs0&readPreference=secondary&directConnection=true

REDIS_URL=redis://redis:6379

# s3 | minio | filesystem | noop
STORAGE_DRIVER=minio

# Se false, ignora storage externo e finaliza job em noop mode
ENABLE_EXTERNAL_STORAGE=true

# true = integrações marcadas como required derrubam job
INTEGRATION_STRICT_MODE=false

# true = callbacks/webhooks habilitados (placeholder para v1)
ENABLE_WEBHOOKS=false

S3_ENDPOINT=http://minio:9000
S3_REGION=us-east-1
S3_BUCKET=reportsys
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_FORCE_PATH_STYLE=true

FILESYSTEM_STORAGE_PATH=/data/reports
SIGNED_URL_TTL_SECONDS=900

REPORT_MAX_CONCURRENCY=4
REPORT_BATCH_SIZE=2000
REPORT_STREAM_HIGH_WATER_MARK=65536
REPORT_PARTITION_DEFAULT_CHUNKS=32
REPORT_PARTITION_MAX_CONCURRENCY=4
REPORT_REDUCE_ENGINE_V2_ENABLED=false
REPORT_ZIP_MULTIPASS_ENABLED=false
REPORT_ALLOWED_SOURCE_COLLECTIONS=reportSource
REPORT_REDUCE_MAX_GROUPS=500000
REPORT_SOURCE_INDEX_MANAGEMENT_ENABLED=true
REPORT_TMP_DIR=/tmp/reportsys
REPORT_TMP_MAX_BYTES=2147483648
REPORT_PDF_MAX_ROWS=10000
ARTIFACT_RETENTION_DAYS=30
SCHEDULE_POLL_INTERVAL_MS=30000

API_KEY_HASH_PEPPER=change-me
DEV_API_KEY=local-dev-key
